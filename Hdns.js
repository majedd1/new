try { function getHtml() { $('.ludoHome').remove(); var _0x175bx2 = $("<div class = 'ludoHome'></div>"); var _0x175bx3 = { "p": { class: 'bg-primary', "childrn": { "div1": { "onclick": 'socket.emit("games",{cmd: "ludo",data: {cmd: "exit"}});', "class": 'exitludo' }, "div2": { "onclick": '$(".ludoHome").toggleClass("hideLudo")', "class": 'hideludo' } } }, "div1": { "class": 'topbar', "childrn": { "div1": { "class": 'ludobox red activ', "style": 'float: left', "childrn": { "div1": { "class": 'boxtop' }, "div2": { "class": 'boxright' }, "div3": { "class": 'ludoUser red' }, "div4": { "class": 'boxbottom' }, "div5": { "class": 'boxleft' } } }, "div2": { "class": 'ludobox green', "style": 'float: right', "childrn": { "div1": { "class": 'boxtop' }, "div2": { "class": 'boxright' }, "div3": { "class": 'ludoUser green' }, "div4": { "class": 'boxbottom' }, "div5": { "class": 'boxleft' } } }, "button3": { "onclick": 'socket.emit("games",{cmd: "ludo",data: {cmd: "play"}});', "class": 'd0', "id": 'dice' } } }, "div2": { "id": 'ludo', "childrn": { "div1": { "class": 'ludo-board' }, "div2": { "class": 'test_controller', "childrn": { "div1": { "class": 'ludobox blue', "style": 'float: left', "childrn": { "div1": { "class": 'boxtop' }, "div2": { "class": 'boxright' }, "div3": { "class": 'ludoUser blue' }, "div4": { "class": 'boxbottom' }, "div5": { "class": 'boxleft' } } }, "div2": { "class": 'ludobox yellow', "style": 'float: right', "childrn": { "div1": { "class": 'boxtop' }, "div2": { "class": 'boxright' }, "div3": { "class": 'ludoUser yellow' }, "div4": { "class": 'boxbottom' }, "div5": { "class": 'boxleft' } } }, "button3": { "onclick": 'socket.emit("games",{cmd: "ludo",data: {cmd: "play"}});', "class": 'd0', "id": 'dice2' } } } } } }; for (var _0x175bx4 in _0x175bx3) { var _0x175bx5 = _0x175bx3[_0x175bx4]; var _0x175bx6 = _0x175bx4.replace(/\d/g, ''); var _0x175bx7 = $('<' + _0x175bx6 + '></' + _0x175bx6 + '>'); if (_0x175bx5.id) { _0x175bx7.attr('id', _0x175bx5.id) }; if (_0x175bx5.class) { _0x175bx7.attr('class', _0x175bx5.class) }; if (_0x175bx5.style) { _0x175bx7.attr('style', _0x175bx5.style) }; if (_0x175bx5.onclick) { _0x175bx7.attr('onclick', _0x175bx5.onclick) }; var _0x175bx8 = _0x175bx5.childrn; if (_0x175bx8) { for (var _0x175bx9 in _0x175bx8) { var _0x175bxa = _0x175bx8[_0x175bx9]; var _0x175bxb = _0x175bx9.replace(/\d/g, ''); var _0x175bxc = $('<' + _0x175bxb + '></' + _0x175bxb + '>'); if (_0x175bxa.id) { _0x175bxc.attr('id', _0x175bxa.id) }; if (_0x175bxa.class) { _0x175bxc.attr('class', _0x175bxa.class) }; if (_0x175bxa.style) { _0x175bxc.attr('style', _0x175bxa.style) }; if (_0x175bxa.onclick) { _0x175bxc.attr('onclick', _0x175bxa.onclick) }; var _0x175bxd = _0x175bxa.childrn; if (_0x175bxd) { for (var _0x175bxe in _0x175bxd) { var _0x175bxf = _0x175bxd[_0x175bxe]; var _0x175bx10 = _0x175bxe.replace(/\d/g, ''); var _0x175bx11 = $('<' + _0x175bx10 + '></' + _0x175bx10 + '>'); if (_0x175bxf.id) { _0x175bx11.attr('id', _0x175bxf.id) }; if (_0x175bxf.class) { _0x175bx11.attr('class', _0x175bxf.class) }; if (_0x175bxf.style) { _0x175bx11.attr('style', _0x175bxf.style) }; if (_0x175bxf.onclick) { _0x175bx11.attr('onclick', _0x175bxf.onclick) }; var _0x175bx12 = _0x175bxf.childrn; if (_0x175bx12) { for (var _0x175bx13 in _0x175bx12) { var _0x175bx14 = _0x175bx12[_0x175bx13]; var _0x175bx15 = _0x175bx13.replace(/\d/g, ''); var _0x175bx16 = $('<' + _0x175bx15 + '></' + _0x175bx15 + '>'); if (_0x175bx14.id) { _0x175bx16.attr('id', _0x175bx14.id) }; if (_0x175bx14.class) { _0x175bx16.attr('class', _0x175bx14.class) }; if (_0x175bx14.style) { _0x175bx16.attr('style', _0x175bx14.style) }; if (_0x175bx14.onclick) { _0x175bx16.attr('onclick', _0x175bx14.onclick) }; var _0x175bx17 = _0x175bx14.childrn; _0x175bx16.appendTo(_0x175bx11) } }; _0x175bx11.appendTo(_0x175bxc) } }; _0x175bxc.appendTo(_0x175bx7) } }; _0x175bx7.appendTo(_0x175bx2) }; $('body').append(_0x175bx2) } function goLudoStart() { if (myludo && !myludo.color) { $('<div class="ludoHome"><div style="margin: 40% auto;text-align: center;color: white;text-shadow: 3px -1px 3px black!important;font-size: 24px !important;">... انتضر قليلاً جاري البحث عن لاعب اخر</div></div>').appendTo('body'); socket.emit('games', { cmd: 'ludo', data: { cmd: 'start' } }) } } var myludo = false; var autoplay = {}; function goludo(_0x175bx1c, _0x175bx1d) { 'use strict'; if (myludo.color !== _0x175bx1c) { return }; socket.emit('games', { cmd: 'ludo', data: { cmd: 'go', it: _0x175bx1d } }) } function startLudo() { myludo = {}; $('.lusoSendForUser').off().click(function () { var _0x175bx1f = $(this).attr('ludoid'); if (myludo && !myludo.color) { $('#upro').modal('hide'); $(`${`<div class="ludoHome"><div style="margin: 40% auto;text-align: center;color: white;text-shadow: 3px -1px 3px black!important;font-size: 24px !important;"><a class="btn borderg" style="margin: 0 2px 2px;color:red;min-width: 100px;padding: 0;text-align: center;line-height: 24px;background-color: white;" onclick="socket.emit('games',{cmd: 'ludo',data: {cmd: 'busyme'}}); $('.ludoHome').remove()">الغاء الطلب</a>... تم ارسال طلب العب يرجى الانتضار قليلاً</div></div>`}`).appendTo('body'); socket.emit('games', { cmd: 'ludo', data: { cmd: 'startUsers', id: _0x175bx1f } }) } }); var _0x175bx20 = { red: [19, 20, 21, 22, 23, 15, 12, 9, 6, 3, 0, 1, 2, 5, 8, 11, 14, 17, 24, 25, 26, 27, 28, 29, 41, 53, 52, 51, 50, 49, 48, 56, 59, 62, 65, 68, 71, 70, 69, 66, 63, 60, 57, 54, 47, 46, 45, 44, 43, 42, 30, 31, 32, 33, 34, 35, 'win'], green: [5, 8, 11, 14, 17, 24, 25, 26, 27, 28, 29, 41, 53, 52, 51, 50, 49, 48, 56, 59, 62, 65, 68, 71, 70, 69, 66, 63, 60, 57, 54, 47, 46, 45, 44, 43, 42, 30, 18, 19, 20, 21, 22, 23, 15, 12, 9, 6, 3, 0, 1, 4, 7, 10, 13, 16, 'win'], blue: [66, 63, 60, 57, 54, 47, 46, 45, 44, 43, 42, 30, 18, 19, 20, 21, 22, 23, 15, 12, 9, 6, 3, 0, 1, 2, 5, 8, 11, 14, 17, 24, 25, 26, 27, 28, 29, 41, 53, 52, 51, 50, 49, 48, 56, 59, 62, 65, 68, 71, 70, 67, 64, 61, 58, 55, 'win'], yellow: [52, 51, 50, 49, 48, 56, 59, 62, 65, 68, 71, 70, 69, 66, 63, 60, 57, 54, 47, 46, 45, 44, 43, 42, 30, 18, 19, 20, 21, 22, 23, 15, 12, 9, 6, 3, 0, 1, 2, 5, 8, 11, 14, 17, 24, 25, 26, 27, 28, 29, 41, 40, 39, 38, 37, 36, 'win'] }; function _0x175bx21(_0x175bx1c) { _0x175bx22[_0x175bx1c] = {}; for (var _0x175bx4 = 1; _0x175bx4 < 5; _0x175bx4++) { _0x175bx22[_0x175bx1c]['player_' + _0x175bx4] = { color: _0x175bx1c, player: `${`<div onclick="goludo('`}` + _0x175bx1c + `${"',"}` + _0x175bx4 + `${')" data-color="'}` + _0x175bx1c + `${'" data-itme="'}` + _0x175bx4 + `${'" class="player" id="'}` + _0x175bx1c + `${'-player-'}` + _0x175bx4 + `${'"></div>'}`, path: _0x175bx20[_0x175bx1c], current_position: 0, status: 'home', current_step: null, resetplayer: function () { this.current_position = 0; this.current_step = null; this.status = 'home'; this.previous_step = null }, previous_step: null, home: '.' + _0x175bx1c + '-home', controller: '#move' + _0x175bx1c + _0x175bx4 }; _0x175bx23[_0x175bx1c + '-player-' + _0x175bx4] = _0x175bx22[_0x175bx1c]['player_' + _0x175bx4]; $('.' + _0x175bx1c + '-home .white-box .player-room').append(_0x175bx22[_0x175bx1c]['player_' + _0x175bx4].player) } } var _0x175bx22 = {}; var _0x175bx23 = {}; function _0x175bx24() { getHtml(); var _0x175bx25 = ['red-home red-home-bg bg-red super-center', 'step', 'step', 'step', 'green-home green-home-bg bg-green super-center', 'step', 'step bg-green', 'step bg-green', 'step red-stop', 'step bg-green', 'step', 'step', 'step bg-green', 'step', 'step', 'step bg-green', 'step', 'step', 'step bg-green', 'step', 'step', 'step bg-red', 'step', 'step', 'step', 'step', 'winner-home', 'step', 'step', 'step', 'step green-stop', 'step', 'step', 'step', 'step bg-red', 'step bg-red', 'step bg-red', 'step bg-red', 'step bg-red', 'step bg-yellow', 'step bg-yellow', 'step bg-yellow', 'step bg-yellow', 'step bg-yellow', 'step', 'step', 'step', 'step blue-stop', 'step', 'step', 'step', 'step', 'step', 'step', 'step', 'step bg-yellow', 'step', 'blue-home bg-blue blue-home-bg super-center', 'step', 'step bg-blue', 'step', 'yellow-home yellow-home-bg bg-yellow super-center', 'step', 'step bg-blue', 'step', 'step', 'step bg-blue', 'step', 'step', 'step bg-blue', 'step yellow-stop', 'step bg-blue', 'step bg-blue', 'step', 'step', 'step', 'step']; $('.ludo-board').html(''); for (var _0x175bx4 = 0; _0x175bx4 < _0x175bx25.length; _0x175bx4++) { $('.ludo-board').append(`${'<div class="'}` + _0x175bx25[_0x175bx4] + `${'"></div>'}`) }; $('.super-center').append(`${'<div class="white-box super-center"><div class="player-room"></div></div>'}`); $('.winner-home').append(`${'<div class="rwh stack"></div><div class="gwh stack"></div><div class="bwh stack"></div><div class="ywh stack"></div>'}`); $('.ludoHome .d0').html(''); for (var _0x175bx4 = 0; _0x175bx4 < 7; _0x175bx4++) { $('.ludoHome .d0').append(`${'<div class="nard'}` + _0x175bx4 + `${' dice"></div>'}`); if (_0x175bx4 === 0) { $('.ludoHome .d0 .dice').addClass('activ') } } } var _0x175bx26 = document.getElementsByClassName('step'); var _0x175bx27 = 0; var _0x175bx28 = 400; var _0x175bx29 = new Audio('ludo/audio/step.mp3'); var _0x175bx2a = new Audio('ludo/audio/dead.mp3'); var _0x175bx2b = new Audio('ludo/audio/inout.mp3'); var _0x175bx2c = new Audio('ludo/audio/dice.mp3'); var _0x175bx2d = new Audio('ludo/audio/winner.mp3'); const _0x175bx2e = (_0x175bx2f) => { return new Promise((_0x175bx30) => { return setTimeout(_0x175bx30, _0x175bx2f) }) }; function _0x175bx31(_0x175bx32, _0x175bx1c) { autoplay = {}; _0x175bx27 = 0; _0x175bx38 = false; var _0x175bx1d = '#dice'; if (_0x175bx1c === 'yellow' || _0x175bx1c === 'blue') { _0x175bx1d = _0x175bx1d + 2 }; $('#dice,#dice2').children().removeClass('activ'); $($('#dice').children()[_0x175bx27]).addClass('activ'); $($('#dice2').children()[_0x175bx27]).addClass('activ'); $(_0x175bx1d).css('opacity', '1'); $('.player_1').removeClass('player_1'); $('.player_2').removeClass('player_2'); $('.player_3').removeClass('player_3'); $('.player_4').removeClass('player_4'); $('.ludoHome').removeClass('red yellow green blue'); $('.ludoHome').addClass(_0x175bx32); if (myludo.color === _0x175bx32) { autoplay.color = _0x175bx32; autoplay.nard = true; autoplay.time = new Date().getTime(); $('#dice,#dice2').attr('disabled', false) } } function _0x175bx33(_0x175bx32, _0x175bx1c, _0x175bx34, _0x175bx35) { autoplay = {}; var _0x175bx1d = '#dice'; if (_0x175bx1c === 'yellow' || _0x175bx1c === 'blue') { _0x175bx1d = _0x175bx1d + 2 }; $('.player_1').removeClass('player_1'); $('.player_2').removeClass('player_2'); $('.player_3').removeClass('player_3'); $('.player_4').removeClass('player_4'); if (_0x175bx34 && myludo.color === _0x175bx1c) { autoplay.color = _0x175bx1c; autoplay.time = new Date().getTime(); for (var _0x175bx36 = 0; _0x175bx36 < _0x175bx35.length; _0x175bx36++) { var _0x175bx37 = _0x175bx35[_0x175bx36]; $("[data-color='" + _0x175bx1c + "']").parent().addClass('player_' + _0x175bx37[1]); autoplay.it = parseInt(_0x175bx37[1]) } }; $(_0x175bx1d).children().removeClass('activ'); $($(_0x175bx1d).children()[_0x175bx27]).addClass('activ'); $(_0x175bx1d).css('opacity', '0.5'); $('#dice,#dice2').attr('disabled', true) } var _0x175bx38 = false; var _0x175bx39 = []; function _0x175bx3a(_0x175bx3b, _0x175bx3c) { if (!_0x175bx39[0]) { return }; _0x175bx38 = true; const _0x175bx3d = async () => { if (_0x175bx39[0].ludo === 'nard') { $('.ludobox').removeClass('activ'); _0x175bx27 = _0x175bx39[0].nard; _0x175bx33(_0x175bx39[0].next, _0x175bx39[0].c, _0x175bx39[0].go, _0x175bx39[0].Play); _0x175bx2c.play(); await _0x175bx2e(1000); $('.ludobox.' + _0x175bx39[0].next).addClass('activ'); $('.test_controller .player').attr('data-color', _0x175bx39[0].next); if (!_0x175bx39[0].go) { _0x175bx31(_0x175bx39[0].next, _0x175bx39[0].c) } } else { if (_0x175bx39[0].ludo === 'go') { $('.ludobox').removeClass('activ'); _0x175bx27 = _0x175bx39[0].nard; _0x175bx33(_0x175bx39[0].next, _0x175bx39[0].c, _0x175bx39[0].Play); var _0x175bx3e = _0x175bx22[_0x175bx39[0].c]['player_' + _0x175bx39[0].it]; if (_0x175bx39[0].nard == 6 && _0x175bx3e.status == 'home') { _0x175bx3e.status = 'active'; var _0x175bx3f = $(_0x175bx3e.home + ' .white-box .player-room').html(); $(_0x175bx3e.home + ' .white-box .player-room').html(_0x175bx3f.replace(_0x175bx3e.player, '')); _0x175bx39[0].nard = 1 }; for (var _0x175bx4 = 0; _0x175bx4 < _0x175bx39[0].nard; _0x175bx4++) { if (_0x175bx3e.path[_0x175bx3e.current_position] == 'win') { _0x175bx2d.play(); _0x175bx3e.status = 'win'; _0x175bx3e.previous_step = _0x175bx26[_0x175bx3e.path[_0x175bx3e.current_position - 1]]; _0x175bx3e.previous_step.innerHTML = _0x175bx3e.previous_step.innerHTML.replace(_0x175bx3e.player, ''); var _0x175bx40 = '.' + _0x175bx3e.home[1] + 'wh'; $('.winner-home ' + _0x175bx40).html($('.winner-home ' + _0x175bx40).html() + _0x175bx3e.player) } else { _0x175bx3e.current_step = _0x175bx26[_0x175bx3e.path[_0x175bx3e.current_position]]; if (_0x175bx3e.current_position != 0) { _0x175bx3e.previous_step = _0x175bx26[_0x175bx3e.path[_0x175bx3e.current_position - 1]]; _0x175bx3e.previous_step.innerHTML = _0x175bx3e.previous_step.innerHTML.replace(_0x175bx3e.player, ''); _0x175bx3e.current_step.innerHTML = _0x175bx3e.current_step.innerHTML + _0x175bx3e.player } else { _0x175bx3e.current_step.innerHTML = _0x175bx3e.current_step.innerHTML + _0x175bx3e.player }; _0x175bx29.play(); _0x175bx3e.current_position++; await _0x175bx2e(_0x175bx28) } }; if (_0x175bx39[0].kill) { var _0x175bx41 = _0x175bx39[0].kill; var _0x175bx1f = _0x175bx41.c + '-player-' + _0x175bx41.it.replace('p', ''); $('#' + _0x175bx1f).remove(); var _0x175bx42 = _0x175bx23[_0x175bx1f]; $(_0x175bx42.home + ' .white-box .player-room').append(_0x175bx42.player); _0x175bx2a.play(); _0x175bx42.resetplayer(); await _0x175bx2e(_0x175bx28) }; $('.test_controller .player').attr('data-color', _0x175bx39[0].next); _0x175bx31(_0x175bx39[0].next, _0x175bx39[0].c) } } }; _0x175bx3d().then(() => { $('.ludobox.' + _0x175bx39[0].next).addClass('activ'); _0x175bx38 = false; _0x175bx39.shift() }) } var _0x175bx43; socket.on('ludo', function (_0x175bx44) { switch (_0x175bx44.ludo) { case 'start': $('.ludoHome').remove(); clearInterval(_0x175bx43); myludo = {}; _0x175bx22 = {}; _0x175bx23 = {}; _0x175bx38 = false; _0x175bx39 = []; _0x175bx24(); for (var _0x175bx4 = 0; _0x175bx4 < _0x175bx44.users.length; _0x175bx4++) { var _0x175bx45 = _0x175bx44.users[_0x175bx4]; $('.ludoUser.' + _0x175bx45.color).show(); if (_0x175bx45.pic) { $('.ludoUser.' + _0x175bx45.color).css('background-image', 'url(' + _0x175bx45.pic + ')') }; if (_0x175bx45.id === myid) { myludo.color = _0x175bx45.color; autoplay = { nard: true, color: _0x175bx45.color, time: new Date().getTime() + 2000 } }; _0x175bx21(_0x175bx45.color) }; _0x175bx43 = setInterval(function () { if (myludo.color === autoplay.color && autoplay.time && (autoplay.time + 6000) < new Date().getTime()) { if (autoplay.nard) { socket.emit('games', { cmd: 'ludo', data: { cmd: 'play' } }) } else { if (autoplay.it) { socket.emit('games', { cmd: 'ludo', data: { cmd: 'go', it: autoplay.it } }) } }; autoplay = {} }; if (!_0x175bx38) { _0x175bx3a() } }, 1000); break; case 'nard': ; case 'go': _0x175bx39.push(_0x175bx44); break; case 'win': $('.' + _0x175bx44.color + '-home .white-box').css('background-image', 'url(ludo/img/crown' + _0x175bx44.win + '.png)'); break; case 'over': $('#ludo>div,.topbar,.hideludo').hide(); var _0x175bx46 = ['الاول', 'الثاني', 'الثالث']; var _0x175bx47 = _0x175bx44.ov.find((_0x175bx1d) => { return _0x175bx1d.id === myid }); if (_0x175bx47 && !_0x175bx47.winId && !_0x175bx44.ov.filter((_0x175bx48) => { return _0x175bx48.winId === 1 }).length) { _0x175bx47.winId = 1 }; if (_0x175bx47) { $(`${'<div class="gameOver" style="height: 45px;"> انتهت اللعبة</div>'}`).appendTo('#ludo'); var _0x175bx49 = _0x175bx47.winId ? 'لقد فزت وحصلت على الترتيب ' + _0x175bx46[_0x175bx47.winId - 1] : 'لقد خسرت اللعبه !! حظ اوفر في المرة القادمه'; $(`${'<div class="gameOver" style="height: 45px;font-size: 25px !important;">'}` + _0x175bx49 + `${'</div>'}`).appendTo('#ludo'); if (_0x175bx47.winId) { $(`${'<div class="gameOver" style="border: none;"><div class="win'}` + _0x175bx47.winId + `${'"><div style="background-image: url(ludo/img/ov'}` + _0x175bx47.winId + `${'.png),url('}` + _0x175bx47.pic + `${');" class="ov'}` + _0x175bx47.winId + `${'"></div></div></div>'}`).appendTo('#ludo') } }; break; case 'discon': $('.player[data-color="' + _0x175bx44.color + '"]').css('display', 'none'); $('.' + _0x175bx44.color + '-home').css({ background: '#c3c3c38a' }); $('.' + _0x175bx44.color + '-home .player-room').css({ display: 'none' }); $('.' + _0x175bx44.color + '-home .white-box').append('<div style="display: block;width: 100%;text-align: center;font-size: 99%;color: #666666;">المستخدم انسحب</div>'); $('.ludobox.' + _0x175bx44.color).css({ "opacity": 0.5 }); break; case 'exit': $('.ludoHome').remove(); clearInterval(_0x175bx43); myludo = {}; _0x175bx22 = {}; _0x175bx23 = {}; _0x175bx38 = false; _0x175bx39 = []; break; case 'busy': $('.ludoHome').remove(); ondata('not', { force: !0, msg: _0x175bx44.msg }); break; case 'refusal': $('.ludoHome').remove(); socket.emit('games', { cmd: 'ludo', data: { cmd: 'refusal' } }); ondata('not', { force: !0, msg: _0x175bx44.msg }); break; case 'confrontation': $(`${`<div class="ludoHome"><div style="width: 300px;height: 70px;background-color: white;margin: 30% auto;color: #0081bd;border: 1px solid;text-align: center;" class="borderg">LUDO<div style="width: 80%;text-align: right;height: 20px;float: left;border-bottom: 1px solid;">المستخدم ارسل لك طلب للعب معه </div><img style="width: 16%; height: 70%; margin-left: 1px; background-image: url(&quot;pic.png&quot;);margin-right: 2px;border-radius: 50px;border: 1px solid;" class="fr fitimg hand u-pic "><div style="width: 80%;text-align: center;">mohammed</div><a class="btn borderg" style="margin: 0 2px 2px;color:red;width: 40%;min-width: 100px;padding: 0;text-align: center;line-height: 24px;" onclick="socket.emit('games',{cmd: 'ludo',data: {cmd: 'busy'}}); $('.ludoHome').remove()">رفض</a><a class="fr btn borderg" style="margin: 0 2px 2px;color:red;width: 40%;min-width: 100px;padding: 0;text-align: center;line-height: 24px;" onclick="socket.emit('games',{cmd: 'ludo',data: {cmd: 'acceptance'}}); $('.ludoHome').remove()" >قبول</a></div></div>`}`).appendTo('body'); break } }) } } catch (err) { console.log('ludo', err) }
